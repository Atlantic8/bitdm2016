### 数据挖掘之关联规则挖掘（内容）

### 关于数据的说明
- 来自UCI的”急性炎症”数据集一个有8个属性，其中6个状态属性，2个结果属性。我把每一个数据项当作一个事务，然后把关联规则挖掘算法应用在这些事务上，求支持度、置信度等相关信息。
- 数据下载后，我先对数据进行了一定调整，并且转化为csv格式，方便读取。

### 数据预处理
- 由于第一个属性是体温，体温是数值属性，不适合对数值属性直接统计，一种简单的做法是将体温转变为是否发烧，一般人体正常体温为37度左右，考虑简便，我将大于37.5读的体温认定为发烧。
- 经过第一步的转换，所有属性都是yes或者no的布尔型值，为了进一步转换数据，我们将每一个数据项进行如下转换,比如:

|a1|a2|a3|a4|a5|a6|d1|d2|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|38|no|no|yes|no|yes|yes|no|

 转换为： t1=[a1, a4, a6, d1]
- 这样，数据预处理的任务基本完成了。

### 挖掘算法
##### 频繁项集
- 这里最多只考虑3-频繁项集的计算，方法就是简单统计。

##### 关联规则
关联规则从3-频繁项集中提取，a开头的属性和d开头的属性分开，因为某种程度上来说a开头的属性是特征属性，而d开头的属性是结果属性。这样，我们就可以得到一系列从特征到结果的规则，形如X->Y。
对于规则，举例来说X->Y，我们需要计算X和Y同时发生的概率（支持度），以及X发生的事务中Y也发生的概率（置信度）。
- 支持度
支持度(support)=(X,Y).count/T.count, (T是事务总和，(X,Y).count是X、Y同时出现的次数)
- 置信度
置信度(confidence)=(X,Y).count/X.count
- 期望置信度
期望置信度=Y.count/T.count

##### 冗余
- 借用Aprior算法的思想，可以得到两条有用的去除冗余的规则。
- 如果一个集合是频繁项集，则它的所有子集都是频繁项集。举例：假设一个集合{A,B}是频繁项集，即A、B同时出现在一条记录的次数大于等于最小支持度min_support，则它的子集{A},{B}出现次数必定大于等于min_support，即它的子集都是频繁项集。
- 如果一个集合不是频繁项集，则它的所有超集都不是频繁项集。举例：假设集合{A}不是频繁项集，即A出现的次数小于min_support，则它的任何超集如{A,B}出现的次数必定小于min_support，因此其超集必定也不是频繁项集。

##### lift评价
提升度是可信度与期望可信度的比值，提升度大于1表示正相关，小于1表示负相关，等于1表示不相关。lift评价可以弥补置信度、支持度自身的不足，使得评价更为合理。